<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Artist AI Assist</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>
</head>
<body>
   <div class="artist-info">
    <h1>Hello <%= @artist.name %></h1>
    <div><strong>Style:</strong> <%= @artist.style %></div>
    <div><strong>Bio:</strong> <%= @artist.bio %></div>
    <br />
    <div><%= link_to "Edit Info", edit_artist_path(@artist), class: 'edit-button' %></div>
    <br />
    <div>
      <%= button_to "Delete Profile", artist_path(@artist), method: :delete, data: { turbo: false, confirm: 'Are you sure?' }, class: 'delete-button' %>
    </div>
  </div>

  <div class="ai-prompt-section">
    <h2>AI Prompt</h2>
    <%= form_for [@artist, ArtistFile.new] do |f| %>
      <div>
        <h3>What can you tell me about your next creative project?</h3>
        <%= f.label :goals %>
        <%= f.text_area :goals %>
      </div>
      <br />
      <div>
        <%= f.submit "Get Prompt" %>
      </div>
    <% end %>
  </div>
  <div class="collection-of-prompts">
    <% if @artist_files.count > 0 %>
      <ul>
        <h2>Collection of Ideas</h2><br />
        <% @artist_files.reverse_each do |artist_file| %>
            <div><%= image_tag artist_file.image_url, alt: "file-image" %></div><br />
            <div><strong>Created:</strong> <%= artist_file.created_at.strftime("%B %d, %Y") %></div>
            <div><strong>Goals:</strong> <%= artist_file.goals %></div>
            <div><strong>Action Steps:</strong> <%= artist_file.action_steps %></div>
            <div>
            <% if artist_file.resources.present? %>
              <div>
              <strong>Resources:</strong><% @parsed_resources.each do |resource| %>
                <p><%= @markdown.render(resource).html_safe %></p>
              <% end %>
              </div>
            <% end %>
            </div>
            <br />
            <div>
              <%= button_to "Delete Prompt", artist_artist_file_path(@artist, artist_file), method: :delete, data: { turbo: false, confirm: 'Are you sure?' }, class: 'delete-button' %>
            </div>
            <br />
            <br />
        <% end %>
      </ul>
    
    <% end %>
  </div>
</body>
</html>

