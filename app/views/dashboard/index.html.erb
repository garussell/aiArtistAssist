<% if !current_session %>
  <div id="home-container">
    <%= render 'shared/login' %>
    <%= stylesheet_link_tag 'home-container' %>
  </div>
<% else %>

  <div class="container mt-4">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="card">
          <div class="card-body">
            <h1><%= @zen_statement + @artist.name %></h1>
            <div><strong>Style:</strong> <%= @artist.style %></div>
            <div><strong>Bio:</strong> <%= @artist.bio %></div>
            
            <% if @artist.avatar.attached? %>
              <div class="mt-3">
                <%= image_tag @artist.avatar, style: "width: 100px; height: 100px;", class: "rounded-circle" %>
                <%= link_to artist_path(@artist) do %>
                  <div class="btn btn-primary mt-2">AI Prompt</div>
                <% end %>
              </div>
            <% end %>

            <div class="mt-3 upload-avatar">
              <%= form_with(model: @artist, url: upload_avatar_artist_path(@artist), method: :patch, local: true) do |form| %>
                <%= form.label :avatar, "Upload Avatar", class: "form-label" %>
                <%= form.file_field :avatar, class: 'form-control' %>
                <%= form.submit "Upload", class: 'btn btn-primary mt-2' %>
              <% end %>
            </div>

            <div class="mt-3">
              <%= link_to "Edit Info", edit_artist_path(@artist), class: 'btn btn-primary' %>
            </div>

            <div class="mt-3">
              <%= button_to "Delete Profile", artist_path(@artist), method: :delete, data: { turbo: false, confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<% end %>

